<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é€²éšè‚¡ç¥¨å¸‚å ´åˆ†æç³»çµ±</title>
  
  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.23.0/pivot.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.23.0/pivot.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  
  <style>
    * { box-sizing: border-box; }
    
    body { 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      margin: 0; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      line-height: 1.6;
      min-height: 100vh;
    }
    
    .main-container { 
      max-width: 1600px; 
      margin: auto; 
      padding: 20px; 
      background: rgba(255,255,255,0.95); 
      border-radius: 15px; 
      box-shadow: 0 10px 40px rgba(0,0,0,0.15); 
      margin-top: 20px;
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
    }
    
    .system-header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      color: white;
      border-radius: 10px;
    }
    
    .system-header h1 { 
      margin: 0;
      font-size: 2.2em;
      font-weight: 700;
    }
    
    .system-header p {
      margin: 10px 0 0 0;
      opacity: 0.9;
      font-size: 1.1em;
    }
    
    .module-tabs {
      display: flex;
      background: #f8f9fa;
      border-radius: 10px;
      padding: 5px;
      margin-bottom: 25px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .tab-button {
      flex: 1;
      padding: 12px 20px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s ease;
      font-size: 14px;
    }
    
    .tab-button.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .tab-button:hover:not(.active) {
      background: rgba(102, 126, 234, 0.1);
    }
    
    .module-content {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .module-content.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .control-panel {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      color: white;
    }
    
    .control-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .control-item label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      font-size: 13px;
    }
    
    .control-item input, .control-item select {
      width: 100%;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      background: rgba(255,255,255,0.9);
    }
    
    .control-item button {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 6px;
      background: rgba(255,255,255,0.2);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .control-item button:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }
    
    .data-grid {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    .data-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    
    .data-table th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 12px 8px;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid rgba(255,255,255,0.2);
    }
    
    .data-table td {
      padding: 10px 8px;
      border-bottom: 1px solid #eee;
      transition: background-color 0.2s ease;
    }
    
    .data-table tr:hover {
      background-color: rgba(102, 126, 234, 0.05);
    }
    
    .trend-positive { color: #e74c3c; font-weight: 600; }
    .trend-negative { color: #27ae60; font-weight: 600; }
    .trend-neutral { color: #7f8c8d; }
    
    .stats-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .stats-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    
    .stats-card:hover {
      transform: translateY(-5px);
    }
    
    .stats-card .value {
      font-size: 2em;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 5px;
    }
    
    .stats-card .label {
      color: #7f8c8d;
      font-size: 0.9em;
      font-weight: 500;
    }
    
    .chart-container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    .chart-container h3 {
      margin-top: 0;
      color: #2c3e50;
      border-bottom: 2px solid #3498db;
      padding-bottom: 10px;
    }
    
    .concept-tag {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 11px;
      margin: 2px;
      font-weight: 500;
    }
    
    .alert-panel {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
      color: white;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      font-weight: 500;
    }
    
    .loading {
      text-align: center;
      padding: 40px;
      color: #7f8c8d;
      font-style: italic;
    }
    
    .filter-panel {
      background: rgba(255,255,255,0.9);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      border: 1px solid rgba(102, 126, 234, 0.2);
    }
    
    .filter-row {
      display: flex;
      gap: 10px;
      align-items: end;
      flex-wrap: wrap;
    }
    
    .filter-row > div {
      flex: 1;
      min-width: 120px;
    }
    
    @media (max-width: 768px) {
      .main-container { 
        padding: 15px; 
        margin: 10px;
      }
      .module-tabs {
        flex-direction: column;
      }
      .control-grid {
        grid-template-columns: 1fr;
      }
      .stats-cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="main-container">
    <div class="system-header">
      <h1>ğŸš€ é€²éšè‚¡ç¥¨å¸‚å ´åˆ†æç³»çµ±</h1>
      <p>å°ˆæ¥­æŠ•è³‡æ±ºç­–æ”¯æ´å¹³å° - æ¼²åœåˆ†æ | æ¦‚å¿µè‚¡è¿½è¹¤ | æˆäº¤æ•¸æ“š</p>
    </div>

    <!-- æ¨¡çµ„åˆ‡æ›æ¨™ç±¤ -->
    <div class="module-tabs">
      <button class="tab-button active" onclick="switchModule('limitUp')">ğŸ“ˆ æ¼²åœè‚¡åˆ†æ</button>
      <button class="tab-button" onclick="switchModule('concept')">ğŸ¯ æ¦‚å¿µè‚¡è¿½è¹¤</button>
      <button class="tab-button" onclick="switchModule('trading')">ğŸ“Š æˆäº¤ç´€éŒ„</button>
      <button class="tab-button" onclick="switchModule('portfolio')">ğŸ’¼ æŠ•è³‡çµ„åˆ</button>
    </div>

    <!-- æ¼²åœè‚¡åˆ†ææ¨¡çµ„ -->
    <div id="limitUp" class="module-content active">
      <div class="control-panel">
        <h3>ğŸ¯ æ¼²åœè‚¡ç¥¨æŸ¥è©¢èˆ‡è¶¨å‹¢åˆ†æ</h3>
        <div class="control-grid">
          <div class="control-item">
            <label>æŸ¥è©¢æ—¥æœŸ</label>
            <input type="date" id="limitUpDate" value="2024-08-17">
          </div>
          <div class="control-item">
            <label>å¸‚å ´åˆ¥</label>
            <select id="limitUpMarket">
              <option value="">å…¨éƒ¨å¸‚å ´</option>
              <option value="å°è‚¡">å°è‚¡</option>
              <option value="ç¾è‚¡">ç¾è‚¡</option>
            </select>
          </div>
          <div class="control-item">
            <label>ç”¢æ¥­åˆ†é¡</label>
            <select id="limitUpIndustry">
              <option value="">å…¨éƒ¨ç”¢æ¥­</option>
              <option value="ç§‘æŠ€æ¥­">ç§‘æŠ€æ¥­</option>
              <option value="é‡‘èæ¥­">é‡‘èæ¥­</option>
              <option value="å‚³çµ±ç”¢æ¥­">å‚³çµ±ç”¢æ¥­</option>
            </select>
          </div>
          <div class="control-item">
            <label>æ“ä½œ</label>
            <button onclick="searchLimitUpStocks()">æŸ¥è©¢æ¼²åœè‚¡</button>
          </div>
        </div>
      </div>

      <div class="stats-cards" id="limitUpStats">
        <div class="stats-card">
          <div class="value" id="limitUpCount">0</div>
          <div class="label">ä»Šæ—¥æ¼²åœè‚¡æ•¸</div>
        </div>
        <div class="stats-card">
          <div class="value" id="limitUpAvgVolume">0</div>
          <div class="label">å¹³å‡æˆäº¤é‡(è¬è‚¡)</div>
        </div>
        <div class="stats-card">
          <div class="value" id="limitUpNextDayUp">0%</div>
          <div class="label">æ¬¡æ—¥çºŒæ¼²æ©Ÿç‡</div>
        </div>
        <div class="stats-card">
          <div class="value" id="limitUpWeekReturn">0%</div>
          <div class="label">ä¸€é€±å¹³å‡å ±é…¬</div>
        </div>
      </div>

      <div class="data-grid">
        <table class="data-table" id="limitUpTable">
          <thead>
            <tr>
              <th>è‚¡ç¥¨ä»£ç¢¼</th>
              <th>è‚¡ç¥¨åç¨±</th>
              <th>ç”¢æ¥­</th>
              <th>æ¼²åœåƒ¹</th>
              <th>æˆäº¤é‡</th>
              <th>æ¬¡æ—¥è¡¨ç¾</th>
              <th>ä¸€é€±å ±é…¬</th>
              <th>ä¸€æœˆå ±é…¬</th>
              <th>æ¼²åœåŸå› </th>
            </tr>
          </thead>
          <tbody id="limitUpTableBody">
            <tr><td colspan="9" class="loading">è«‹é¸æ“‡æŸ¥è©¢æ¢ä»¶å¾Œé»æ“ŠæŸ¥è©¢</td></tr>
          </tbody>
        </table>
      </div>

      <div class="chart-container">
        <h3>æ¼²åœè‚¡å¾ŒçºŒè¡¨ç¾åˆ†æ</h3>
        <canvas id="limitUpChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- æ¦‚å¿µè‚¡è¿½è¹¤æ¨¡çµ„ -->
    <div id="concept" class="module-content">
      <div class="control-panel">
        <h3>ğŸ¯ æ¦‚å¿µè‚¡è¶¨å‹¢åˆ†æ</h3>
        <div class="control-grid">
          <div class="control-item">
            <label>æ¦‚å¿µè‚¡ä¸»é¡Œ</label>
            <select id="conceptTheme">
              <option value="">é¸æ“‡æ¦‚å¿µè‚¡</option>
              <option value="AIäººå·¥æ™ºæ…§">AIäººå·¥æ™ºæ…§</option>
              <option value="é›»å‹•è»Š">é›»å‹•è»Š</option>
              <option value="å…ƒå®‡å®™">å…ƒå®‡å®™</option>
              <option value="5Gé€šè¨Š">5Gé€šè¨Š</option>
              <option value="ç”ŸæŠ€é†«ç™‚">ç”ŸæŠ€é†«ç™‚</option>
              <option value="ç¶ èƒ½ç’°ä¿">ç¶ èƒ½ç’°ä¿</option>
            </select>
          </div>
          <div class="control-item">
            <label>æ™‚é–“ç¯„åœ</label>
            <select id="conceptPeriod">
              <option value="1D">ä»Šæ—¥</option>
              <option value="1W">ä¸€é€±</option>
              <option value="1M">ä¸€æœˆ</option>
              <option value="3M">ä¸‰æœˆ</option>
            </select>
          </div>
          <div class="control-item">
            <label>æ’åºæ–¹å¼</label>
            <select id="conceptSort">
              <option value="return">å ±é…¬ç‡</option>
              <option value="volume">æˆäº¤é‡</option>
              <option value="marketCap">å¸‚å€¼</option>
            </select>
          </div>
          <div class="control-item">
            <label>æ“ä½œ</label>
            <button onclick="analyzeConcept()">åˆ†ææ¦‚å¿µè‚¡</button>
          </div>
        </div>
      </div>

      <div class="stats-cards" id="conceptStats">
        <div class="stats-card">
          <div class="value" id="conceptStockCount">0</div>
          <div class="label">æ¦‚å¿µè‚¡ç¸½æ•¸</div>
        </div>
        <div class="stats-card">
          <div class="value" id="conceptAvgReturn">0%</div>
          <div class="label">å¹³å‡å ±é…¬ç‡</div>
        </div>
        <div class="stats-card">
          <div class="value" id="conceptLeader">-</div>
          <div class="label">é ˜æ¼²è‚¡ç¥¨</div>
        </div>
        <div class="stats-card">
          <div class="value" id="conceptTotalValue">0å„„</div>
          <div class="label">ç¸½å¸‚å€¼</div>
        </div>
      </div>

      <div class="filter-panel">
        <div class="filter-row">
          <div>
            <label>å¸‚å€¼ç¯©é¸</label>
            <select id="conceptMarketCapFilter">
              <option value="">ä¸é™</option>
              <option value="large">å¤§å‹è‚¡(>1000å„„)</option>
              <option value="medium">ä¸­å‹è‚¡(100-1000å„„)</option>
              <option value="small">å°å‹è‚¡(<100å„„)</option>
            </select>
          </div>
          <div>
            <label>å ±é…¬ç‡ç¯©é¸</label>
            <select id="conceptReturnFilter">
              <option value="">ä¸é™</option>
              <option value="positive">æ­£å ±é…¬</option>
              <option value="negative">è² å ±é…¬</option>
              <option value="outperform">è¶…è¶Šå¤§ç›¤</option>
            </select>
          </div>
          <div>
            <button onclick="applyConceptFilter()">å¥—ç”¨ç¯©é¸</button>
          </div>
        </div>
      </div>

      <div class="data-grid">
        <table class="data-table" id="conceptTable">
          <thead>
            <tr>
              <th>æ’å</th>
              <th>è‚¡ç¥¨ä»£ç¢¼</th>
              <th>è‚¡ç¥¨åç¨±</th>
              <th>æ¦‚å¿µæ¨™ç±¤</th>
              <th>ç›®å‰è‚¡åƒ¹</th>
              <th>ä»Šæ—¥å ±é…¬</th>
              <th>é€±å ±é…¬</th>
              <th>æœˆå ±é…¬</th>
              <th>å¸‚å€¼</th>
              <th>æˆäº¤é‡</th>
            </tr>
          </thead>
          <tbody id="conceptTableBody">
            <tr><td colspan="10" class="loading">è«‹é¸æ“‡æ¦‚å¿µè‚¡ä¸»é¡Œé€²è¡Œåˆ†æ</td></tr>
          </tbody>
        </table>
      </div>

      <div class="chart-container">
        <h3>æ¦‚å¿µè‚¡è¡¨ç¾è¶¨å‹¢</h3>
        <canvas id="conceptChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- æˆäº¤ç´€éŒ„æ¨¡çµ„ -->
    <div id="trading" class="module-content">
      <div class="control-panel">
        <h3>ğŸ“Š æ¯æ—¥æˆäº¤ç´€éŒ„åˆ†æ</h3>
        <div class="control-grid">
          <div class="control-item">
            <label>è‚¡ç¥¨ä»£ç¢¼</label>
            <input type="text" id="tradingSymbol" placeholder="è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼" value="2330">
          </div>
          <div class="control-item">
            <label>èµ·å§‹æ—¥æœŸ</label>
            <input type="date" id="tradingStartDate" value="2024-07-01">
          </div>
          <div class="control-item">
            <label>çµæŸæ—¥æœŸ</label>
            <input type="date" id="tradingEndDate" value="2024-08-17">
          </div>
          <div class="control-item">
            <label>æ“ä½œ</label>
            <button onclick="loadTradingData()">è¼‰å…¥äº¤æ˜“æ•¸æ“š</button>
          </div>
        </div>
      </div>

      <div class="stats-cards" id="tradingStats">
        <div class="stats-card">
          <div class="value" id="tradingDays">0</div>
          <div class="label">äº¤æ˜“å¤©æ•¸</div>
        </div>
        <div class="stats-card">
          <div class="value" id="totalVolume">0è¬è‚¡</div>
          <div class="label">ç¸½æˆäº¤é‡</div>
        </div>
        <div class="stats-card">
          <div class="value" id="avgPrice">0</div>
          <div class="label">å¹³å‡åƒ¹æ ¼</div>
        </div>
        <div class="stats-card">
          <div class="value" id="priceReturn">0%</div>
          <div class="label">æœŸé–“å ±é…¬ç‡</div>
        </div>
      </div>

      <div class="filter-panel">
        <div class="filter-row">
          <div>
            <label>æˆäº¤é‡ç¯©é¸</label>
            <select id="volumeFilter">
              <option value="">ä¸é™</option>
              <option value="high">é«˜æ–¼å¹³å‡</option>
              <option value="low">ä½æ–¼å¹³å‡</option>
              <option value="abnormal">ç•°å¸¸æ”¾é‡</option>
            </select>
          </div>
          <div>
            <label>åƒ¹æ ¼è®Šå‹•ç¯©é¸</label>
            <select id="priceChangeFilter">
              <option value="">ä¸é™</option>
              <option value="up">ä¸Šæ¼²æ—¥</option>
              <option value="down">ä¸‹è·Œæ—¥</option>
              <option value="flat">å¹³ç›¤</option>
            </select>
          </div>
          <div>
            <button onclick="applyTradingFilter()">å¥—ç”¨ç¯©é¸</button>
          </div>
        </div>
      </div>

      <div class="data-grid">
        <table class="data-table" id="tradingTable">
          <thead>
            <tr>
              <th>äº¤æ˜“æ—¥æœŸ</th>
              <th>é–‹ç›¤åƒ¹</th>
              <th>æœ€é«˜åƒ¹</th>
              <th>æœ€ä½åƒ¹</th>
              <th>æ”¶ç›¤åƒ¹</th>
              <th>æ¼²è·Œ</th>
              <th>æ¼²è·Œå¹…</th>
              <th>æˆäº¤é‡</th>
              <th>æˆäº¤é‡‘é¡</th>
              <th>æŠ€è¡“æŒ‡æ¨™</th>
            </tr>
          </thead>
          <tbody id="tradingTableBody">
            <tr><td colspan="10" class="loading">è«‹è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼ä¸¦é¸æ“‡æ—¥æœŸç¯„åœ</td></tr>
          </tbody>
        </table>
      </div>

      <div class="chart-container">
        <h3>åƒ¹æ ¼èˆ‡æˆäº¤é‡èµ°å‹¢</h3>
        <canvas id="tradingChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- æŠ•è³‡çµ„åˆæ¨¡çµ„ -->
    <div id="portfolio" class="module-content">
      <div class="control-panel">
        <h3>ğŸ’¼ æŠ•è³‡çµ„åˆåˆ†æ</h3>
        <div class="control-grid">
          <div class="control-item">
            <label>çµ„åˆåç¨±</label>
            <input type="text" id="portfolioName" placeholder="è¼¸å…¥çµ„åˆåç¨±">
          </div>
          <div class="control-item">
            <label>åŸºæº–æŒ‡æ•¸</label>
            <select id="benchmarkIndex">
              <option value="TAIEX">å°è‚¡åŠ æ¬ŠæŒ‡æ•¸</option>
              <option value="SP500">æ¨™æ™®500</option>
              <option value="NASDAQ">é‚£æ–¯é”å…‹</option>
            </select>
          </div>
          <div class="control-item">
            <label>åˆ†ææœŸé–“</label>
            <select id="portfolioPeriod">
              <option value="1M">ä¸€å€‹æœˆ</option>
              <option value="3M">ä¸‰å€‹æœˆ</option>
              <option value="6M">åŠå¹´</option>
              <option value="1Y">ä¸€å¹´</option>
            </select>
          </div>
          <div class="control-item">
            <label>æ“ä½œ</label>
            <button onclick="analyzePortfolio()">åˆ†æçµ„åˆ</button>
          </div>
        </div>
      </div>

      <div class="stats-cards">
        <div class="stats-card">
          <div class="value" id="portfolioReturn">0%</div>
          <div class="label">çµ„åˆå ±é…¬ç‡</div>
        </div>
        <div class="stats-card">
          <div class="value" id="portfolioRisk">0%</div>
          <div class="label">çµ„åˆé¢¨éšª</div>
        </div>
        <div class="stats-card">
          <div class="value" id="sharpeRatio">0</div>
          <div class="label">å¤æ™®æ¯”ç‡</div>
        </div>
        <div class="stats-card">
          <div class="value" id="maxDrawdown">0%</div>
          <div class="label">æœ€å¤§å›æª”</div>
        </div>
      </div>

      <div class="data-grid">
        <table class="data-table">
          <thead>
            <tr>
              <th>è‚¡ç¥¨ä»£ç¢¼</th>
              <th>è‚¡ç¥¨åç¨±</th>
              <th>æ¬Šé‡</th>
              <th>æŒè‚¡æˆæœ¬</th>
              <th>ç›®å‰åƒ¹æ ¼</th>
              <th>æç›Š</th>
              <th>è²¢ç»åº¦</th>
              <th>é¢¨éšªä¿‚æ•¸</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="8" class="loading">å»ºç«‹æŠ•è³‡çµ„åˆå¾Œé–‹å§‹åˆ†æ</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // å…¨åŸŸè®Šæ•¸
    let currentModule = 'limitUp';
    let chartInstances = {};
    
    // æ¨¡çµ„åˆ‡æ›åŠŸèƒ½
    function switchModule(moduleName) {
      // éš±è—æ‰€æœ‰æ¨¡çµ„
      document.querySelectorAll('.module-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // ç§»é™¤æ‰€æœ‰æ¨™ç±¤çš„activeç‹€æ…‹
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      
      // é¡¯ç¤ºé¸ä¸­çš„æ¨¡çµ„
      document.getElementById(moduleName).classList.add('active');
      event.target.classList.add('active');
      
      currentModule = moduleName;
      
      // è¼‰å…¥å°æ‡‰çš„ç¯„ä¾‹è³‡æ–™
      switch(moduleName) {
        case 'limitUp':
          loadLimitUpSampleData();
          break;
        case 'concept':
          loadConceptSampleData();
          break;
        case 'trading':
          loadTradingSampleData();
          break;
        case 'portfolio':
          loadPortfolioSampleData();
          break;
      }
    }

    // æ¼²åœè‚¡åˆ†æåŠŸèƒ½
    function searchLimitUpStocks() {
      const date = document.getElementById('limitUpDate').value;
      const market = document.getElementById('limitUpMarket').value;
      const industry = document.getElementById('limitUpIndustry').value;
      
      // æ¨¡æ“¬è¼‰å…¥è³‡æ–™
      document.getElementById('limitUpTableBody').innerHTML = '<tr><td colspan="9" class="loading">æ­£åœ¨æŸ¥è©¢æ¼²åœè‚¡è³‡æ–™...</td></tr>';
      
      setTimeout(() => {
        loadLimitUpSampleData();
        updateLimitUpStats();
        createLimitUpChart();
      }, 1000);
    }

    function loadLimitUpSampleData() {
      const sampleData = [
        {code: '2330', name: 'å°ç©é›»', industry: 'åŠå°é«”', price: 630, volume: 85420, nextDay: '+2.1%', weekReturn: '+8.5%', monthReturn: '+15.2%', reason: 'æ¥­ç¸¾è¶…é æœŸ'},
        {code: '2454', name: 'è¯ç™¼ç§‘', industry: 'åŠå°é«”', price: 820, volume: 45280, nextDay: '+3.8%', weekReturn: '+12.3%', monthReturn: '+22.1%', reason: 'AIæ™¶ç‰‡è¨‚å–®'},
        {code: '2317', name: 'é´»æµ·', industry: 'é›»å­è£½é€ ', price: 115, volume: 125600, nextDay: '-0.5%', weekReturn: '+5.2%', monthReturn: '+18.7%', reason: 'é›»å‹•è»Šåˆä½œ'},
        {code: '3008', name: 'å¤§ç«‹å…‰', industry: 'å…‰å­¸', price: 2850, volume: 8520, nextDay: '+1.2%', weekReturn: '+6.8%', monthReturn: '+28.3%', reason: 'æ–°å“ç™¼è¡¨'},
        {code: '2892', name: 'ç¬¬ä¸€é‡‘', industry: 'é‡‘è', price: 28.5, volume: 95600, nextDay: '+0.8%', weekReturn: '+3.1%', monthReturn: '+12.5%', reason: 'åˆ©ç‡æ”¿ç­–'}
      ];

      let tableHTML = '';
      sampleData.forEach(stock => {
        const nextDayClass = stock.nextDay.includes('+') ? 'trend-positive' : 'trend-negative';
        const weekClass = stock.weekReturn.includes('+') ? 'trend-positive' : 'trend-negative';
        const monthClass = stock.monthReturn.includes('+') ? 'trend-positive' : 'trend-negative';
        
        tableHTML += `
          <tr>
            <td>${stock.code}</td>
            <td>${stock.name}</td>
            <td>${stock.industry}</td>
            <td>${stock.price}</td>
            <td>${stock.volume.toLocaleString()}</td>
            <td class="${nextDayClass}">${stock.nextDay}</td>
            <td class="${weekClass}">${stock.weekReturn}</td>
            <td class="${monthClass}">${stock.monthReturn}</td>
            <td>${stock.reason}</td>
          </tr>
        `;
      });
      
      document.getElementById('limitUpTableBody').innerHTML = tableHTML;
    }

    function updateLimitUpStats() {
      document.getElementById('limitUpCount').textContent = '5';
      document.getElementById('limitUpAvgVolume').textContent = '72.1';
      document.getElementById('limitUpNextDayUp').textContent = '75%';
      document.getElementById('limitUpWeekReturn').textContent = '+7.2%';
    }

    function createLimitUpChart() {
      const ctx = document.getElementById('limitUpChart').getContext('2d');
      if (chartInstances.limitUp) {
        chartInstances.limitUp.destroy();
      }
      
      chartInstances.limitUp = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['æ¼²åœæ—¥', '+1æ—¥', '+3æ—¥', '+7æ—¥', '+30æ—¥'],
          datasets: [{
            label: 'å¹³å‡å ±é…¬ç‡',
            data: [10, 2.1, 4.8, 7.2, 15.8],
            borderColor: '#e74c3c',
            backgroundColor: 'rgba(231, 76, 60, 0.1)',
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'å ±é…¬ç‡ (%)'
              }
            }
          }
        }
      });
    }

    // æ¦‚å¿µè‚¡åˆ†æåŠŸèƒ½
    function analyzeConcept() {
      const theme = document.getElementById('conceptTheme').value;
      const period = document.getElementById('conceptPeriod').value;
      const sort = document.getElementById('conceptSort').value;
      
      if (!theme) {
        alert('è«‹é¸æ“‡æ¦‚å¿µè‚¡ä¸»é¡Œ');
        return;
      }
      
      document.getElementById('conceptTableBody').innerHTML = '<tr><td colspan="10" class="loading">æ­£åœ¨åˆ†ææ¦‚å¿µè‚¡è³‡æ–™...</td></tr>';
      
      setTimeout(() => {
        loadConceptSampleData();
        updateConceptStats();
        createConceptChart();
      }, 1000);
    }

    function loadConceptSampleData() {
      const sampleData = [
        {rank: 1, code: 'NVDA', name: 'è¼é”', tags: 'AIäººå·¥æ™ºæ…§,GPUé‹ç®—', price: 825, dailyReturn: '+5.2%', weekReturn: '+18.5%', monthReturn: '+42.1%', marketCap: 2062500, volume: 125600},
        {rank: 2, code: '2330', name: 'å°ç©é›»', tags: 'AIäººå·¥æ™ºæ…§,åŠå°é«”', price: 595, dailyReturn: '+3.1%', weekReturn: '+12.3%', monthReturn: '+28.7%', marketCap: 15437000, volume: 85420},
        {rank: 3, code: 'MSFT', name: 'å¾®è»Ÿ', tags: 'AIäººå·¥æ™ºæ…§,é›²ç«¯é‹ç®—', price: 365, dailyReturn: '+2.8%', weekReturn: '+8.9%', monthReturn: '+35.2%', marketCap: 2715000, volume: 68950},
        {rank: 4, code: '2454', name: 'è¯ç™¼ç§‘', tags: 'AIäººå·¥æ™ºæ…§,æ™¶ç‰‡', price: 795, dailyReturn: '+4.5%', weekReturn: '+15.2%', monthReturn: '+32.1%', marketCap: 127200, volume: 45280},
        {rank: 5, code: 'GOOGL', name: 'è°·æ­Œ', tags: 'AIäººå·¥æ™ºæ…§,æœå°‹', price: 145, dailyReturn: '+1.9%', weekReturn: '+6.8%', monthReturn: '+38.5%', marketCap: 1827000, volume: 35600}
      ];

      let tableHTML = '';
      sampleData.forEach(stock => {
        const dailyClass = stock.dailyReturn.includes('+') ? 'trend-positive' : 'trend-negative';
        const weekClass = stock.weekReturn.includes('+') ? 'trend-positive' : 'trend-negative';
        const monthClass = stock.monthReturn.includes('+') ? 'trend-positive' : 'trend-negative';
        
        const tags = stock.tags.split(',').map(tag => `<span class="concept-tag">${tag}</span>`).join('');
        
        tableHTML += `
          <tr>
            <td>${stock.rank}</td>
            <td>${stock.code}</td>
            <td>${stock.name}</td>
            <td>${tags}</td>
            <td>${stock.price}</td>
            <td class="${dailyClass}">${stock.dailyReturn}</td>
            <td class="${weekClass}">${stock.weekReturn}</td>
            <td class="${monthClass}">${stock.monthReturn}</td>
            <td>${(stock.marketCap / 10000).toFixed(0)}å„„</td>
            <td>${stock.volume.toLocaleString()}</td>
          </tr>
        `;
      });
      
      document.getElementById('conceptTableBody').innerHTML = tableHTML;
    }

    function updateConceptStats() {
      document.getElementById('conceptStockCount').textContent = '5';
      document.getElementById('conceptAvgReturn').textContent = '+35.3%';
      document.getElementById('conceptLeader').textContent = 'NVDA';
      document.getElementById('conceptTotalValue').textContent = '22,168';
    }

    function createConceptChart() {
      const ctx = document.getElementById('conceptChart').getContext('2d');
      if (chartInstances.concept) {
        chartInstances.concept.destroy();
      }
      
      chartInstances.concept = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['NVDA', 'å°ç©é›»', 'å¾®è»Ÿ', 'è¯ç™¼ç§‘', 'è°·æ­Œ'],
          datasets: [{
            label: 'æœˆå ±é…¬ç‡ (%)',
            data: [42.1, 28.7, 35.2, 32.1, 38.5],
            backgroundColor: [
              'rgba(231, 76, 60, 0.8)',
              'rgba(52, 152, 219, 0.8)',
              'rgba(46, 204, 113, 0.8)',
              'rgba(155, 89, 182, 0.8)',
              'rgba(241, 196, 15, 0.8)'
            ]
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'å ±é…¬ç‡ (%)'
              }
            }
          }
        }
      });
    }

    function applyConceptFilter() {
      // å¯¦ç¾æ¦‚å¿µè‚¡ç¯©é¸é‚è¼¯
      analyzeConcept();
    }

    // æˆäº¤ç´€éŒ„åˆ†æåŠŸèƒ½
    function loadTradingData() {
      const symbol = document.getElementById('tradingSymbol').value;
      const startDate = document.getElementById('tradingStartDate').value;
      const endDate = document.getElementById('tradingEndDate').value;
      
      if (!symbol) {
        alert('è«‹è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼');
        return;
      }
      
      document.getElementById('tradingTableBody').innerHTML = '<tr><td colspan="10" class="loading">æ­£åœ¨è¼‰å…¥äº¤æ˜“è³‡æ–™...</td></tr>';
      
      setTimeout(() => {
        loadTradingSampleData();
        updateTradingStats();
        createTradingChart();
      }, 1000);
    }

    function loadTradingSampleData() {
      const sampleData = [
        {date: '2024-08-17', open: 590, high: 605, low: 585, close: 595, change: '+5', changePercent: '+0.85%', volume: 85420, amount: 5082000, indicator: 'RSI:65'},
        {date: '2024-08-16', open: 585, high: 592, low: 580, close: 590, change: '+8', changePercent: '+1.37%', volume: 92600, amount: 5463000, indicator: 'RSI:62'},
        {date: '2024-08-15', open: 580, high: 588, low: 575, close: 582, change: '-3', changePercent: '-0.51%', volume: 76800, amount: 4468000, indicator: 'RSI:58'},
        {date: '2024-08-14', open: 588, high: 595, low: 583, close: 585, change: '-5', changePercent: '-0.85%', volume: 68950, amount: 4052000, indicator: 'RSI:55'},
        {date: '2024-08-13', open: 585, high: 592, low: 582, close: 590, change: '+7', changePercent: '+1.20%', volume: 81200, amount: 4778000, indicator: 'RSI:60'}
      ];

      let tableHTML = '';
      sampleData.forEach(trade => {
        const changeClass = trade.change.includes('+') ? 'trend-positive' : trade.change.includes('-') ? 'trend-negative' : 'trend-neutral';
        const percentClass = trade.changePercent.includes('+') ? 'trend-positive' : trade.changePercent.includes('-') ? 'trend-negative' : 'trend-neutral';
        
        tableHTML += `
          <tr>
            <td>${trade.date}</td>
            <td>${trade.open}</td>
            <td>${trade.high}</td>
            <td>${trade.low}</td>
            <td>${trade.close}</td>
            <td class="${changeClass}">${trade.change}</td>
            <td class="${percentClass}">${trade.changePercent}</td>
            <td>${trade.volume.toLocaleString()}</td>
            <td>${trade.amount.toLocaleString()}</td>
            <td>${trade.indicator}</td>
          </tr>
        `;
      });
      
      document.getElementById('tradingTableBody').innerHTML = tableHTML;
    }

    function updateTradingStats() {
      document.getElementById('tradingDays').textContent = '5';
      document.getElementById('totalVolume').textContent = '405';
      document.getElementById('avgPrice').textContent = '588.4';
      document.getElementById('priceReturn').textContent = '+1.7%';
    }

    function createTradingChart() {
      const ctx = document.getElementById('tradingChart').getContext('2d');
      if (chartInstances.trading) {
        chartInstances.trading.destroy();
      }
      
      chartInstances.trading = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['8/13', '8/14', '8/15', '8/16', '8/17'],
          datasets: [{
            label: 'æ”¶ç›¤åƒ¹',
            data: [590, 585, 582, 590, 595],
            borderColor: '#3498db',
            backgroundColor: 'rgba(52, 152, 219, 0.1)',
            tension: 0.4,
            yAxisID: 'y'
          }, {
            label: 'æˆäº¤é‡',
            data: [81200, 68950, 76800, 92600, 85420],
            type: 'bar',
            backgroundColor: 'rgba(231, 76, 60, 0.3)',
            yAxisID: 'y1'
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              type: 'linear',
              display: true,
              position: 'left',
              title: {
                display: true,
                text: 'åƒ¹æ ¼'
              }
            },
            y1: {
              type: 'linear',
              display: true,
              position: 'right',
              title: {
                display: true,
                text: 'æˆäº¤é‡'
              },
              grid: {
                drawOnChartArea: false,
              },
            }
          }
        }
      });
    }

    function applyTradingFilter() {
      // å¯¦ç¾äº¤æ˜“è³‡æ–™ç¯©é¸é‚è¼¯
      loadTradingData();
    }

    // æŠ•è³‡çµ„åˆåˆ†æåŠŸèƒ½
    function analyzePortfolio() {
      // å¯¦ç¾æŠ•è³‡çµ„åˆåˆ†æé‚è¼¯
      alert('æŠ•è³‡çµ„åˆåˆ†æåŠŸèƒ½é–‹ç™¼ä¸­');
    }

    function loadPortfolioSampleData() {
      // è¼‰å…¥æŠ•è³‡çµ„åˆç¯„ä¾‹è³‡æ–™
    }

    function loadConceptSampleData() {
      // é è¨­è¼‰å…¥AIæ¦‚å¿µè‚¡è³‡æ–™
    }

    function loadTradingSampleData() {
      // é è¨­è¼‰å…¥å°ç©é›»äº¤æ˜“è³‡æ–™
    }

    // é é¢åˆå§‹åŒ–
    $(document).ready(function() {
      // è¼‰å…¥æ¼²åœè‚¡ç¯„ä¾‹è³‡æ–™
      loadLimitUpSampleData();
      updateLimitUpStats();
      createLimitUpChart();
    });
  </script>
</body>
</html>
